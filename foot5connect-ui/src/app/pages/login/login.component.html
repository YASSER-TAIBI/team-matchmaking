<div class="login-page">
  <div class="login-page__bg"></div>

  <div class="login-split">
    <div class="login-split__left">
      <div class="auth-card">
        <div class="auth-surface">
          <div class="brand">
            <div class="brand__logo" aria-hidden="true">
              <mat-icon class="brand__logo-icon">sports_soccer</mat-icon>
            </div>
            <div class="brand__name">PitchPerfect</div>
          </div>

          <h1 class="title">Bienvenue à Nouveau, <strong style="color: #35ff7a;">Champion</strong></h1>
          <p class="subtitle">
            Trouve ta prochaine rencontre en quelques secondes. Entrez vos détails pour revenir sur le terrain.
          </p>

          <mat-button-toggle-group
            class="auth-tabs"
            [hideSingleSelectionIndicator]="true"
            [value]="selectedAuthTab"
            (valueChange)="onAuthTabChange($event)"
          >
            <mat-button-toggle value="login">Login</mat-button-toggle>
            <mat-button-toggle value="register">Register</mat-button-toggle>
          </mat-button-toggle-group>

          <form class="auth-form">
            <ng-container *ngIf="selectedAuthTab === 'login'">

              <!-- Login / EMAIL-->
              <div class="field-block">
                <div class="label">Email</div>
                <mat-form-field class="field" appearance="outline">
                  <mat-icon matPrefix>mail_outline</mat-icon>
                  <input matInput type="email" placeholder="ex: name@email.com" [(ngModel)]="authRequest.email" name="email" required/>
                </mat-form-field>
              </div>

              <!-- Login / PASSWORD-->
              <div class="field-block">
                <div class="field-row">
                  <div class="label">Mot de passe</div>
                  <button class="forgot" type="button">Mot de passe oublié ?</button>
                </div>
                <mat-form-field class="field" appearance="outline">
                  <mat-icon matPrefix>lock_outline</mat-icon>
                  <input matInput type="password" placeholder="••••••••" [(ngModel)]="authRequest.password" name="password" required/>
                </mat-form-field>
              </div>
            </ng-container>

            <ng-container *ngIf="selectedAuthTab === 'register'">
              <div class="form-row form-row--2">

                <!-- Register / PRENOM -->
                <div class="field-block">
                  <div class="label">Prénom</div>
                  <mat-form-field class="field" appearance="outline">
                    <mat-icon matPrefix>badge</mat-icon>
                    <input matInput type="text" placeholder="ex: Karim" [(ngModel)]="userDto.firstName" name="firstName" required/>
                  </mat-form-field>
                </div>

                <!-- Register / NOM -->
                <div class="field-block">
                  <div class="label">Nom</div>
                  <mat-form-field class="field" appearance="outline">
                    <mat-icon matPrefix>badge</mat-icon>
                    <input matInput type="text" placeholder="ex: Taibi" [(ngModel)]="userDto.lastName" name="lastName" required/>
                  </mat-form-field>
                </div>
              </div>

                <!-- Register / USERNAME-->
                <div class="field-block">
                  <div class="label">Username</div>
                  <mat-form-field class="field" appearance="outline">
                    <mat-icon matPrefix>person_outline</mat-icon>
                    <input matInput type="text" placeholder="ex: championGoat" [(ngModel)]="userDto.username" name="username" required/>
                  </mat-form-field>
                </div>

                <!-- Register / EMAIL-->
                <div class="field-block">
                  <div class="label">Email</div>
                  <mat-form-field class="field" appearance="outline">
                    <mat-icon matPrefix>mail_outline</mat-icon>
                    <input matInput type="email" placeholder="ex: champion@example.com" [(ngModel)]="userDto.email" name="email" required/>
                  </mat-form-field>
                </div>

                <!-- Register / PASSWORD-->
                <div class="field-block">
                  <div class="label">Mot de passe</div>
                  <mat-form-field class="field" appearance="outline">
                    <mat-icon matPrefix>lock_outline</mat-icon>
                    <input matInput type="password" placeholder="••••••••" [(ngModel)]="userDto.password" name="password" required/>
                  </mat-form-field>
                </div>

                <!-- Register / CONFIRM PASSWORD-->
                <div class="field-block">
                  <div class="label">Confirmer mot de passe</div>
                  <mat-form-field class="field" appearance="outline">
                    <mat-icon matPrefix>lock_outline</mat-icon>
                    <input matInput type="password" placeholder="••••••••" [(ngModel)]="userDto.confirmPassword" name="confirmPassword" required/>
                  </mat-form-field>
                </div>

              <div class="form-row form-row--2">

                <!-- Register / PAYS -->
                <div class="field-block">
                  <div class="label">Pays</div>
                  <mat-form-field class="field" appearance="outline">
                    <mat-icon matPrefix>public</mat-icon>
                    <mat-select
                      [(ngModel)]="userDto.country"
                      name="country"
                      placeholder="ex: France"
                      (selectionChange)="onCountrySelected($event.value)"
                    >
                      <mat-option *ngFor="let c of countries" [value]="c.name">{{ c.name }}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>

                <!-- Register / VILLE -->
                <div class="field-block">
                  <div class="label">Ville</div>
                  <mat-form-field class="field" appearance="outline">
                    <mat-icon matPrefix>location_city</mat-icon>
                    <mat-select [(ngModel)]="userDto.city" name="city" placeholder="ex: Paris">
                      <mat-option *ngFor="let c of cities" [value]="c.name">{{ c.name }}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
            </ng-container>

            <!-- BOUTON -->
            <button mat-flat-button class="primary" type="button" (click)="onKickOff()">
              <span>Kick Off</span>
              <mat-icon>arrow_forward</mat-icon>
            </button>

            <!-- MESSAGE D'ERREUR -->
            @if(errorMessage.length) {
              <div class="error-block">
                <ul>
                  @for(error of errorMessage; track $index) {
                    <li>{{ error }}</li>
                  }
                </ul>
              </div>
            }

            <div class="divider">
              <mat-divider></mat-divider>
              <span class="divider__label">OU CONTINUER AVEC</span>
              <mat-divider></mat-divider>
            </div>

            <div class="providers">
              <button mat-stroked-button class="provider" type="button">
                <mat-icon class="provider__svg" svgIcon="google" aria-hidden="true"></mat-icon>
                <span>Google</span>
              </button>

              <button mat-stroked-button class="provider" type="button">
                <mat-icon class="provider__svg" svgIcon="apple" aria-hidden="true"></mat-icon>
                <span>Apple</span>
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="login-split__right" aria-hidden="true">
      <div class="promo">
        <div class="promo__stats">
          <div class="stat">
            <div class="stat__value">500+</div>
            <div class="stat__caption">Matches organized<br />tonight</div>
          </div>

          <div class="stat">
            <div class="stat__value">4.9/5</div>
            <div class="stat__caption">Player Rating</div>
          </div>
        </div>

        <div class="quote">
          <div class="quote__text">
            “PitchPerfect made organizing our Tuesday night league effortless. No more chasing
            players for payments.”
          </div>

          <div class="quote__author">
            <div class="avatar"></div>
            <div class="author">
              <div class="author__name">Yasser Taibi</div>
              <div class="author__role">Team Captain, FC Marcos</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
